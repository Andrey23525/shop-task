services:
  balance-daemon:
    build:
      context: ../services/balance-daemon
      dockerfile: Dockerfile
    container_name: shop-balance-daemon
    ports:
      - "8081:8081"
    environment:
      - MYSQL_SHARD_0_URL=mysql://shop_user:shop_password@mysql-shard-0:3306/shop_shard_0
      - MYSQL_SHARD_1_URL=mysql://shop_user:shop_password@mysql-shard-1:3306/shop_shard_1
    volumes:
      - ../shared:/shared
    depends_on:
      - mysql-shard-0
      - mysql-shard-1
